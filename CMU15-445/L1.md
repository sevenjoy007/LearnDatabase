## lecture1 Course Introduction and the Relational Model

__课程目标__：数据库管理系统设计与实现

5个作业、课程项目BusTub（DBMS）

不太涉及SQL语句，主要通过数据运算来实现SQL语句（代码形式）

### 过去：csv文件（comma-separated value）

举例：艺术家与专辑

如果使用CSV文件进行存储，利用代码读取所需的文件。

可能存在问题：

+ **数据的一致性**

1. 如何保证数据的一致性？
2. 数据格式出错怎么办？
3. 如果一个专辑由多个艺术家要怎么存储？

+ **可实现性**

1. 如何找到一个特定数据？（如果数据量很大）
2. 不同语言（重复造轮子）
3. 两个线程同时写

+ **可靠性**

1. 数据更新过程中机器宕机怎么办？
2. 如何在多个机器上进行复制以以实现可靠性？

### 数据库的诞生

__数据库__：以某种形式进行关联的数据集

**DBMS**：存储和分析数据的软件，用于定义、创建、查询、更新、管理数据库。

> 课程目的是去创建一个通用的DBMS

Ted Codd于1969年提出了**关系型数据库**。

> 用元组存储数据，用数据存储的底层实现与使用分离开。将逻辑层与物理层解耦开来，改变底层实现无需改变上层使用。

### 数据库种类

- 关系型数据库：MySQL、PostgreSQL、Oracle、DB2、SQL server、SQLite
- NoSQL：Key-value、Graph、Document、Column-family
- Array/Matrix（机器学习）
- Hierarchical、Network（很少用，无需了解）

### 关系型模型

结构 - 关系定义与内容

内在 - 如何实现以满足条件

实现 - 如何使用跟修改数据库内容

**重要概念**

+ **关系**：是一个无序集合包含了不同实体之间的属性关系

+ **元组（域）**：关系中的属性/值，值通常是atomic/scalar，也有NULL值

+ **主键**：唯一标识一项纪录

+ **外键**：一张表的属性必须存在于另外一张表

### Data Manipulation Language（DML）

+ 过程语言—》关系代数【本课关注】

+ 非过程语言（不用管底层实现，比如SQL语句）——》相关计算

**关系代数七种运算**（基于集合）：

1. section：条件过滤
2. projection：重组、改变值，生成一个新的输出关系
3. union：将两个关系组合生成一个关系（包含两个关系中的全部元组），两个关系必须有相同属性和类型，不同于UINION ALL
4. Intersection：两个关系都存在的
5. difference：R-S，出现在R，不出现在Ｓ。exception语句。
6. product：RxS，两个关系可能产生的所有组合。CROSS JOIN或R，S
7. Join：自然连接，两个关系共同拥有的元组。NATURAL JOIN。（公共属性的名字可以不一样

> 关系代数可以定义如何计算一个查询的高级步骤，上层代码无需考虑且跟随底层实现而修改